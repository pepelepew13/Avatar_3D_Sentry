/* Users.razor.css — Gestión de usuarios (Admin) */
:host{ display:block }

/* ===== STITCH HEADER + STATS ===== */
.users-header{ margin-bottom: 1.5rem }
.users-header-inner{
  display: flex; flex-wrap: wrap; align-items: flex-end; justify-content: space-between; gap: 1rem;
}
.users-header-copy{ }
.users-title{ font-size: 1.75rem; font-weight: 800; margin: 0; color: var(--ink) }
.users-subtitle{ font-size: .9rem; color: var(--muted); margin: .25rem 0 0 0 }
.users-header-actions{ display: flex; gap: .75rem; flex-shrink: 0 }
.users-stats-row{
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 1.5rem;
}
.users-stat-card{
  background: var(--surface); border: 1px solid var(--line); border-radius: 12px;
  padding: 1rem 1.25rem; box-shadow: var(--shadow-xs);
}
.users-stat-card--red{ border-left: 4px solid var(--brand-red) }
.users-stat-card--blue{ border-left: 4px solid var(--brand-blue) }
.users-stat-card--yellow{ border-left: 4px solid var(--brand-yellow) }
.users-stat-card--search{ display: flex; align-items: center }
.users-stat-dt{ font-size: .8rem; font-weight: 500; color: var(--muted); margin: 0 }
.users-stat-dd{ font-size: 1.75rem; font-weight: 700; margin: .25rem 0 0 0; color: var(--ink) }
.users-search-input{
  width: 100%; padding: .5rem .75rem .5rem 2rem;
  border: 1px solid var(--line); border-radius: 10px;
  font-size: .9rem; background: var(--gray-50);
}
.users-search-input:focus{ border-color: var(--brand-red); outline: none; box-shadow: 0 0 0 2px color-mix(in srgb, var(--brand-red) 20%, transparent) }
@media (max-width: 900px){ .users-stats-row{ grid-template-columns: 1fr 1fr } }
@media (max-width: 500px){ .users-stats-row{ grid-template-columns: 1fr } }

/* ===== HERO (legacy) ===== */
.users-hero{
  position:relative;
  overflow:clip;
  border-radius:20px;
  padding: clamp(16px, 2.2vw, 22px);
  background: #ffffff9c;
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 16px 40px rgba(8,10,16,.18);
  display:flex; align-items:center; justify-content:space-between; gap:.75rem; flex-wrap:wrap;
  isolation:isolate;
}
.hero-decor.orb{ position:absolute; z-index:-1; filter: blur(38px); opacity:.35 }
.orb-1{ width:320px;height:320px; top:-48px; left:-48px;
  background: radial-gradient(circle at 30% 30%, color-mix(in srgb, var(--brand-red) 52%, transparent) 0 60%, transparent 61%) }
.orb-2{ width:280px;height:280px; bottom:-42px; right:-42px;
  background: radial-gradient(circle at 60% 40%, color-mix(in srgb, var(--brand-blue) 45%, transparent) 0 60%, transparent 61%) }

.hero-left{ display:flex; gap:.75rem; align-items:center }
.hero-ic{ width:48px;height:48px; display:grid; place-items:center; border-radius:14px;
  background: rgba(255,255,255,.28); border:1px solid rgba(255,255,255,.32); backdrop-filter: blur(6px) }
.hero-copy p{ margin:.25rem 0 0 0 }
.hero-tags{ display:flex; gap:.4rem; flex-wrap:wrap; margin-top:.4rem }
.tag{
  display:inline-block; padding:.25rem .6rem; border-radius:999px;
  background:rgba(255,255,255,.55); border:1px solid rgba(255,255,255,.4); font-weight:700; font-size:.82rem
}

.hero-stats{ display:flex; gap:.6rem; flex-wrap:wrap }
.stat{
  min-width:98px; text-align:center;
  background:rgba(255, 255, 255, 0.764);
  border:1px solid rgba(255,255,255,.36);
  border-radius:12px; padding:.5rem .65rem; backdrop-filter: blur(4px)
}
.stat-num{ font-weight:900; font-size:1.25rem }
.stat-label{ color:#5b6270; font-size:.9rem }

/* ===== ALERTS ===== */
.alert{ display:flex; gap:.5rem; align-items:flex-start; margin:.75rem 0; border-radius:12px; padding:.6rem .75rem }
.alert-success{ background:#f0fdf4; border:1px solid #bbf7d0 }
.alert-danger{ background:#fef2f2; border:1px solid #fecaca }
.alert .alert-icon{ margin-top:2px }

/* ===== GRID (crear + preview) ===== */
.users-grid{ display:grid; grid-template-columns: 1.25fr .85fr; gap:.75rem; margin-top:.75rem }
.card{
  background: #ffffff76; border:1px solid var(--line-strong); border-radius:16px; box-shadow: var(--shadow-sm); padding:.8rem
}
.card .muted{ color:var(--muted) }
.card-head{ display:flex; align-items:center; gap:.6rem; padding-bottom:.4rem; border-bottom:1px dashed var(--line) }
.card-head.center{ align-items:center }
.card-head .ic{ width:34px;height:34px; display:grid; place-items:center; border-radius:10px;
  background: rgba(0,20,137,.10); border:1px solid rgba(0,20,137,.20) }
.card-head .ic.info{ background: rgba(255,0,0,.08); border-color: rgba(255,0,0,.22) }
.card-body{ margin-top:.6rem }

/* ===== FORM ===== */
.users-form .field{ margin:.6rem 0 }
.users-form .grid-2{ display:grid; grid-template-columns: 1fr 1fr; gap:.55rem }
.role-picker{ display:flex; gap:.4rem; flex-wrap:wrap }
.pill{
  border:1px solid var(--line); background:#fff; border-radius:999px; padding:.38rem .65rem; cursor:pointer;
  transition: background .15s ease, box-shadow .15s ease, border-color .15s ease;
}
.pill:hover{ background:#f8fafc }
.pill.active{
  border-color: color-mix(in srgb, var(--brand-blue) 30%, #fff);
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--brand-blue) 22%, #fff);
}
.pill-ic{ margin-right:.28rem }

.label-row{ display:flex; align-items:center; justify-content:space-between; gap:.5rem }
.label-tools{ display:flex; align-items:center; gap:.35rem }
.label-tools .link{ border:none; background:none; color:var(--brand-blue); cursor:pointer; padding:0 }
.label-tools .link:hover{ color: var(--brand-red) }
.label-tools .sep{ opacity:.4 }

.input-with-toggle{ position:relative }
.pwd-toggle{
  position:absolute; right:8px; top:50%; transform:translateY(-50%);
  width:34px;height:34px; border-radius:10px; border:1px solid var(--line);
  background:#fff; display:grid; place-items:center; transition: background .12s ease
}
.pwd-toggle:hover{ background:#f7f9fc }

.pwd-meter{ display:grid; grid-template-columns: repeat(4,1fr); gap:6px; margin:.45rem 0 .25rem }
.pwd-meter .bar{ height:6px; background:#e5e7eb; border-radius:6px }
.pwd-meter .bar.on:nth-child(1){ background:#fca5a5 }
.pwd-meter .bar.on:nth-child(2){ background:#fdba74 }
.pwd-meter .bar.on:nth-child(3){ background:#86efac }
.pwd-meter .bar.on:nth-child(4){ background:linear-gradient(90deg, var(--brand-red), var(--brand-red-2)) }
.pwd-strength{ font-size:.9rem }
.pwd-hints{ color:var(--muted); font-size:.9rem }

.form-actions{ margin-top:.7rem }
.btn{
  border-radius: 12px;
  font-weight: 800;
  letter-spacing: .02em;
}
.btn-primary{
  background: linear-gradient(135deg, var(--brand-red), var(--brand-red-2));
  border: none; color:#fff;
}
.btn-primary:hover{ filter: brightness(1.06) }
.btn-outline-light{
  border: 3px solid #5d5d5d;
  background: #ffffff;
  color: #5d5d5d;
}
.btn-outline-light:hover{ filter: brightness(1.06) }

/* ===== PREVIEW lateral ===== */
.side .sep{ border:none; border-top:1px dashed var(--line); margin:.65rem 0 }
.preview{ display:flex; gap:.6rem; align-items:center }
.avatar{ width:44px;height:44px; border-radius:12px; background:var(--surface-alt); border:1px solid var(--line); display:grid; place-items:center; font-weight:800 }
.avatar.sm{ width:28px;height:28px }
.info .email{ font-weight:700 }

.chips{ display:flex; gap:.35rem; margin-top:.25rem; flex-wrap:wrap }
.chip{
  border:1px solid var(--line); border-radius:999px; padding:.2rem .5rem; font-size:.84rem; background:#F3F4F6;
}
.chip-admin{ background: rgba(255,0,0,.10); border-color: rgba(255,0,0,.25); color:#7a0010 }
.chip-user{  background: rgba(0,20,137,.10); border-color: rgba(0,20,137,.25); color:#00103a }
.chip-scope{ background: var(--surface-alt) }

/* ===== LISTADO ===== */
.list-card{ margin-top:.75rem }
.list-toolbar{
  display:flex; gap:.5rem; align-items:center; flex-wrap:wrap;
  padding:.55rem; background:var(--surface-alt); border:1px solid var(--line);
  border-radius:12px; margin-bottom:.55rem
}
.search-wrap{ position:relative; min-width: 260px }
.search{ padding-right:36px; padding-left:28px }
.search-ic{ position:absolute; left:8px; top:50%; transform:translateY(-50%); opacity:.6 }
.btn-clear{ position:absolute; right:6px; top:50%; transform:translateY(-50%); border:none; background:transparent; font-size:18px; line-height:1; cursor:pointer }

.quick-filters{ display:flex; gap:.35rem }
.quick-filters .chip{ cursor:pointer }
.quick-filters .chip.on{
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--brand-blue) 24%, #fff);
  border-color: color-mix(in srgb, var(--brand-blue) 28%, #fff)
}

.page-size{ width:86px }

/* Tabla */
.table-wrap{
  background:#fff; border:1px solid var(--line-strong); border-radius:12px; overflow:auto;
  --sb-track: rgba(0,0,0,.06); --sb-thumb: rgba(176,0,32,.38); --sb-thumb-hover: rgba(176,0,32,.55);
  scrollbar-color: var(--sb-thumb) var(--sb-track);
}
.table-wrap::-webkit-scrollbar{ height:10px; width:10px }
.table-wrap::-webkit-scrollbar-track{ background: var(--sb-track); border-radius:8px }
.table-wrap::-webkit-scrollbar-thumb{ background: var(--sb-thumb); border-radius:8px; border:2px solid transparent; background-clip: content-box }
.table-wrap::-webkit-scrollbar-thumb:hover{ background: var(--sb-thumb-hover) }

.users-table{ width:100%; border-collapse: separate; border-spacing:0 }
.users-table thead th{
  position:sticky; top:0; z-index:1;
  background:#fff; border-bottom:1px dashed var(--line);
  padding:.55rem .6rem; font-weight:800; text-align:left; cursor:pointer; user-select:none
}
.users-table tbody td{ padding:.5rem .6rem; border-top:1px solid var(--line) }
.users-table tbody tr:hover{ background:#f9fafb }
.th-sort .sort-ind{ opacity:.45; margin-left:.18rem; font-size:.9rem }
.th-sort.asc .sort-ind, .th-sort.desc .sort-ind{ opacity:1 }
.cell-user{ display:flex; align-items:center; gap:.4rem }
.u-mail{ font-weight:600 }
.btn-icon{ border:none; background:transparent; cursor:pointer }
.actions .btn.btn-xs{ padding:.25rem .45rem; border-radius:8px; font-weight:700 }
.btn.btn-xs.btn-danger{ background:linear-gradient(135deg, var(--brand-red), var(--brand-red-2)); color:#fff; border:none }
.btn.btn-xs{ background:#fff; border:1px solid var(--line); color:#111 }
.btn.btn-xs:hover{ background:#f7f9fc }

/* Skeleton/empty */
.skeleton-row{ height:42px; background:linear-gradient(90deg,#eef2f7,#f7f9fc,#eef2f7) }
.empty-row{ text-align:center; color:var(--muted); padding:1.2rem }
.empty-ic{ font-size:1.6rem; margin-bottom:.25rem }

/* Pager */
.pager{ display:flex; align-items:center; justify-content:space-between; padding:.55rem }
.pager .nav > .btn{ min-width:120px }

/* ===== MODAL ===== */
.modal-scrim{ position:fixed; inset:0; background:rgba(0,0,0,.35); backdrop-filter: blur(2px) }
.modal{
  position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); width:min(640px,92vw); z-index:10;
  background:
    radial-gradient(120% 160% at -20% -30%, rgba(255,255,255,.20), transparent 60%),
    #fff;
  border:1px solid var(--line-strong); border-radius:16px; box-shadow: var(--shadow-lg);
}
.modal-head{ display:flex; align-items:center; justify-content:space-between; gap:.5rem; padding:.8rem .8rem .6rem; border-bottom:1px dashed var(--line) }
.modal-close{ border:none; background:transparent; cursor:pointer; font-size:20px }
.modal-body{ padding:.6rem .8rem }
.modal-foot{ display:flex; gap:.5rem; justify-content:flex-end; padding:.6rem .8rem; border-top:1px dashed var(--line) }

/* ===== Segmented control (User/Admin) ===== */
.segmented{
  display:inline-flex; gap:6px; padding:6px; border-radius:999px;
  background: var(--surface-alt); border:1px solid var(--line);
}
.segmented-item{
  display:inline-flex; align-items:center; gap:.45rem;
  padding:.42rem .75rem; border-radius:999px; border:1px solid transparent;
  background: transparent; cursor:pointer; font-weight:800; letter-spacing:.01em;
  transition: background .15s ease, border-color .15s ease, box-shadow .15s ease, transform .06s ease;
}
.segmented-item:hover{ background:#f7f9fc }
.segmented-item:active{ transform: translateY(1px) }
.segmented-item.is-active{
  background:#fff;
  border-color: color-mix(in srgb, var(--brand-blue) 28%, #fff);
  box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--brand-blue) 16%, #fff), 0 4px 14px rgba(0,0,0,.06);
}
.segmented-ic{ font-size:1rem; line-height:1 }

/* ===== Ghost link buttons (Generar/Copiar) ===== */
.ghost-link{
  display:inline-flex; align-items:center; gap:.35rem;
  border:none; background:transparent; color:var(--brand-blue);
  font-weight:800; padding:.15rem .25rem; border-radius:8px; cursor:pointer;
  transition: background .12s ease, color .12s ease;
}
.ghost-link:hover{ background:#f3f6fb; color: var(--brand-red) }
.ghost-link:disabled{ opacity:.5; pointer-events:none }
.ghost-link-ic{ font-size:.95rem; line-height:1 }
.label-tools .sep{ opacity:.35 }

/* ===== Preview card (side) ===== */
.preview-head{
  background:
    radial-gradient(120% 160% at -20% -30%, rgba(255,255,255,.18), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
  border:1px solid rgba(255,255,255,.18);
  border-radius:12px; padding:.45rem .55rem; margin:-.2rem -.2rem .5rem;
}
.preview-body{ display:flex; flex-direction:column; gap:.6rem }

/* Hero de preview */
.preview-hero{ display:flex; gap:.6rem; align-items:center }
.avatar.xl{
  width:60px; height:60px; border-radius:16px;
  background: var(--surface-alt); border:1px solid var(--line);
  display:grid; place-items:center; font-weight:900; font-size:1.15rem;
  box-shadow: var(--shadow-xs);
}
.preview-meta .email.big{ font-weight:900; letter-spacing:.01em }
.preview-banner{
  margin-top:.2rem; display:flex; align-items:center; justify-content:flex-start;
}

/* Pill suave “preview en vivo” */
.pill-soft{
  display:inline-flex; align-items:center; gap:.45rem; padding:.28rem .6rem; border-radius:999px;
  background: rgba(0,20,137,.10); border:1px solid rgba(0,20,137,.18); font-weight:800; font-size:.82rem;
}
.pill-soft .dot{ width:8px; height:8px; border-radius:50%; background:#22c55e; box-shadow:0 0 0 6px rgba(34,197,94,.14) }

/* Ajustes de chips existentes en preview */
.chips{ display:flex; gap:.35rem; margin-top:.25rem; flex-wrap:wrap }
.chip{ border:1px solid var(--line); border-radius:999px; padding:.2rem .5rem; font-size:.84rem; background:#F3F4F6; }
.chip-admin{ background: rgba(255,0,0,.10); border-color: rgba(255,0,0,.25); color:#7a0010 }
.chip-user{  background: rgba(0,20,137,.10); border-color: rgba(0,20,137,.25); color:#00103a }
.chip-scope{ background: var(--surface-alt) }

/* ===== Responsive ===== */
@media (max-width: 1100px){
  .users-grid{ grid-template-columns: 1fr }
  .users-hero{ padding: 16px }
}
