/* ====== AVATAR STUDIO — GAME UI (Sims-like) ====== */

/* En CSS aislado, usa :host (no :root) para exponer variables al componente */
:host{
  --bg:#0f1116;
  --panel:#171a22;
  --panel-2:#1d212b;
  --ink:#eef2ff;
  --muted:#9aa3b2;
  --brand:#ff2d2d;
  --brand-2:#c81d25;
  --acc:#00d4ff;
  --ok:#3ddc84;
  --warn:#ffcc00;
  --stroke:rgba(255,255,255,.07);
  --shadow: 0 18px 42px rgba(8,10,16,.45);
  --r:16px;
}

/* Canvas area height for desktop */
@media (min-height:900px){ :host{ --stage-h:620px } }
@media (max-height:899px){ :host{ --stage-h:520px } }

.vg-shell{
  display:grid; grid-template-columns: 320px 1fr; gap:16px;
  min-height: calc(100vh - 120px);
}

/* ==== Left rail (“toolbox”) ==== */
.vg-rail{
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  border:1px solid var(--stroke);
  border-radius: 20px; padding:14px; color:var(--ink);
  box-shadow: var(--shadow);
}
.vg-rail-header{ display:flex; gap:10px; align-items:center; padding:6px 8px 10px 8px; }
.vg-rail-header img{ width:38px;height:38px;object-fit:contain; }
.vg-rail-header strong{ display:block; line-height:1.1 }
.vg-rail-header small{ color:var(--muted) }

.vg-rail-nav{ display:flex; flex-direction:column; gap:8px; margin:6px 0 10px }
.vg-rail-btn{
  display:flex; align-items:center; gap:10px;
  border:1px solid var(--stroke); border-radius:12px; background:var(--panel);
  color:var(--ink); padding:10px 12px; cursor:pointer;
  transition:transform .12s ease, background .12s ease, box-shadow .12s ease, border-color .12s ease;
}
.vg-rail-btn span{ width:28px;height:28px; display:grid;place-items:center;
  border-radius:8px;background:rgba(255,255,255,.06) }
.vg-rail-btn:hover{ transform: translateY(-1px); background:var(--panel-2); box-shadow:0 10px 24px rgba(0,0,0,.35) }
.vg-rail-btn.active{ border-color:rgba(0,212,255,.25); box-shadow: inset 0 0 0 1px rgba(0,212,255,.22) }

.vg-rail-footer{ margin-top:10px; padding-top:10px; border-top:1px dashed var(--stroke); display:flex; flex-direction:column; gap:8px }
.vg-form{ display:grid; gap:6px; }
.vg-form label{ font-size:.82rem; color:var(--muted) }
.vg-form .form-control{ background:#0c0f14; color:var(--ink); border:1px solid var(--stroke); border-radius:10px; padding:.55rem .7rem }
.vg-rail .btn{ border-radius:10px; font-weight:700 }
.vg-rail .btn-secondary{ background:#0c0f14; color:var(--ink); border:1px solid var(--stroke) }
.vg-rail .btn-secondary:hover{ background:#11151d }

/* ==== Stage (preview + HUD) ==== */
.vg-stage{ display:grid; grid-template-rows: auto minmax(var(--stage-h), 48vh) auto; gap:10px; }

.vg-topbar{
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
  border:1px solid var(--stroke); border-radius: 14px; padding:8px 10px; color:var(--ink);
  box-shadow: var(--shadow);
}
.vg-tags{ display:flex; flex-wrap:wrap; gap:6px }
.tag{
  background: rgba(0,212,255,.08); color:#bff2ff; border:1px solid rgba(0,212,255,.15);
  padding:4px 8px; border-radius:999px; font-weight:700; letter-spacing:.02em; font-size:.78rem;
}
.vg-tools{ display:flex; gap:6px }
.icon-btn{ border:1px solid var(--stroke); background:#0c0f14; color:#e8f1ff;
  width:40px;height:40px;border-radius:12px; display:grid;place-items:center;
  box-shadow:0 8px 22px rgba(0,0,0,.4); transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.icon-btn:hover{ transform: translateY(-1px); background:#121622 }

.vg-canvas{
  position:relative;
  border:1px solid var(--stroke); border-radius: 18px; overflow:hidden;
  background: radial-gradient(1200px 600px at 20% -20%, #1d2130, #111523 55%, #0b0e16 100%);
  box-shadow: var(--shadow);
}
.avatar-viewer-canvas{ position:absolute; inset:0; width:100%; height:100%; display:block }

.vg-dock{
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00));
  border:1px solid var(--stroke); border-radius: 16px; padding:10px; color:var(--ink);
  box-shadow: var(--shadow);
}
.vg-dock-row{ display:grid; grid-template-columns: repeat(12, 1fr); gap:10px; }
.vg-slot{
  grid-column: span 6;
  background: var(--panel);
  border:1px solid var(--stroke); border-radius:14px; padding:12px;
}
.vg-slot h6{ margin:0 0 8px 0; font-weight:800; letter-spacing:.02em }

.vg-pills{ display:flex; flex-wrap:wrap; gap:8px }
.pill{
  padding:8px 12px; border-radius:999px; background:#0c0f14; color:#e8f1ff;
  border:1px solid var(--stroke); cursor:pointer; font-weight:700;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
}
.pill:hover{ transform: translateY(-1px) }
.pill.active{ background:rgba(255,45,45,.12); border-color: rgba(255,45,45,.35); color:#ffd8d8 }

.vg-swatches{ display:flex; flex-wrap:wrap; gap:8px }
.swatch{
  --sw:#ccc; width:36px;height:36px; border-radius:999px;
  border:2px solid #0c0f14; outline:2px solid var(--stroke);
  background: var(--sw); cursor:pointer; transition: transform .12s ease, box-shadow .12s ease;
}
.swatch:hover{ transform: translateY(-1px) }
.swatch.active{ outline-color: rgba(255,45,45,.45); box-shadow: 0 10px 24px rgba(255,45,45,.2) }

.vg-logo-preview{
  width:110px;height:110px;border-radius:14px; border:1px dashed var(--stroke);
  display:grid;place-items:center;background:#0c0f14; margin-bottom:8px; overflow:hidden;
}
.vg-logo-preview img{ width:100%; height:100%; object-fit:contain }

.form-select, .form-control, textarea{
  background:#0c0f14!important; color:var(--ink)!important; border:1px solid var(--stroke)!important; border-radius:10px!important;
}

/* === Buttons === */
.btn{ border-radius:10px; font-weight:800; letter-spacing:.02em }
.btn-primary{ background: linear-gradient(135deg, var(--brand), var(--brand-2)); border:none }
.btn-primary:hover{ filter: brightness(1.08) }
.btn-secondary{ background:#0c0f14; border:1px solid var(--stroke); color:#e8f1ff }
.btn-secondary:hover{ background:#121622 }

/* === Responsive === */
@media (max-width: 1100px){
  .vg-shell{ grid-template-columns: 1fr }
  .vg-rail{ order:1 }
  .vg-stage{ order:2 }
  .vg-slot{ grid-column: span 12 }
}
