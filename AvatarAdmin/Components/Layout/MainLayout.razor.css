/* MainLayout.razor.css — Layout de app (aislado) */
:host{ display:block }

/* ===== Shell: contenido desplaza por padding-left, sin scroll fantasma ===== */
.layout-shell{
  --sidebar-w: 320px;
  --shell-pad: clamp(12px, 2vw, var(--sp-16));
  --shell-gap: clamp(12px, 2vw, var(--sp-16));
  min-height: auto;
  padding: var(--shell-pad);
  padding-left: calc(var(--sidebar-w) + var(--shell-gap) + var(--shell-pad));
  overflow: clip;
}

/* ===== Sidebar: fija y usando todo el lateral ===== */
.layout-sidebar{
  position: fixed;
  left: var(--shell-pad);
  top: var(--shell-pad);
  bottom: var(--shell-pad);
  width: var(--sidebar-w);

  display: flex;
  flex-direction: column;

  background: var(--surface);
  border:1px solid var(--line-strong);
  border-radius: var(--r-20);
  box-shadow: var(--shadow-md);
  padding: var(--sp-10);

  /* Scroll interno sin cambiar el tamaño del contenedor */
  overflow: auto;
  overscroll-behavior: contain;
  -webkit-overflow-scrolling: touch;         /* iOS suave */
  scrollbar-gutter: stable both-edges;       /* <-- evita “saltitos” de layout cuando aparece el scroll */

  /* Firefox (colores y grosor finito) */
  scrollbar-width: thin;
  scrollbar-color: color-mix(in srgb, var(--brand-red-2) 55%, #cfcfd6)
                   color-mix(in srgb, #ffffff 80%, transparent);
}

/* Chrome/Edge/Safari */
.layout-sidebar::-webkit-scrollbar{
  width: 10px;                /* grosor */
}
.layout-sidebar::-webkit-scrollbar-track{
  background: color-mix(in srgb, #ffffff 80%, transparent);
  border-radius: 999px;
}
.layout-sidebar::-webkit-scrollbar-thumb{
  background: color-mix(in srgb, var(--brand-red-2) 55%, #cfcfd6);
  border-radius: 999px;
  border: 2px solid transparent;             /* crea “gap” visual */
  background-clip: padding-box;
}
.layout-sidebar:hover::-webkit-scrollbar-thumb{
  background: color-mix(in srgb, var(--brand-red-2) 70%, #bbbbc4);
}
.layout-sidebar::-webkit-scrollbar-thumb:active{
  background: color-mix(in srgb, var(--brand-red-2) 85%, #a0a0aa);
}

/* Marca arriba del menú (compacta y limpia) */
.layout-brand{
  display:flex; gap:.75rem; align-items:center; margin-bottom: .75rem;
  padding: .35rem .35rem .25rem .35rem;
  border-radius: 12px;
  font-size: larger;
}
.brand-logo{ width:80px; height:80px; object-fit:contain }
.brand-copy strong{ display:block; line-height:1.1; font-weight:800 }
.brand-copy span{ color: var(--brand-red); font-size:.7rem; font-family: 'Lucida Sans','Lucida Grande',Verdana,sans-serif }

/* Main */
.layout-main{ display:block }
.layout-content{
  background:
    radial-gradient(circle at 12% 18%, color-mix(in srgb, var(--brand-red) 12%, transparent) 0 40%, transparent 41%),
    radial-gradient(circle at 88% 12%, color-mix(in srgb, var(--brand-blue) 10%, transparent) 0 38%, transparent 39%),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid var(--line-strong);
  border-radius: var(--r-20);
  box-shadow: var(--shadow-md);
  padding: clamp(.75rem, 1.8vw, 1.25rem);
  overflow: auto; /* evita que el vg-sub absoluto cause scroll del documento */
  contain: layout paint;
}

/* Barra de error Blazor */
#blazor-error-ui{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:16px; background:#fff; border:1px solid var(--line-strong); border-radius:10px;
  padding:.5rem .75rem; box-shadow: var(--shadow-sm); z-index:9999; color:var(--ink);
  max-width: calc(100% - 24px);
}
#blazor-error-ui .dismiss{ margin-left:.5rem; cursor:pointer; background:none; border:0 }
#blazor-error-ui .reload{ margin-left:.75rem }

/* ===== Responsive ===== */
@media (max-width: 1280px){
  .layout-shell{ --sidebar-w: 256px }
}
@media (max-width: 1100px){
  .layout-shell{ padding-left: var(--shell-pad) }
  .layout-sidebar{
    position: static; width:auto; height:auto;
    max-height:none; overflow:visible;
    margin-bottom: var(--shell-gap);
    scrollbar-gutter: auto;               /* ya no hace falta al estar arriba */
  }
}
@media (max-width: 640px){
  .layout-shell{ padding: 12px }
  .layout-content{ border-radius: 16px }
  .layout-sidebar{ border-radius: 16px; padding: 12px }
}
